{"is_source_file": true, "format": "TypeScript", "description": "This file defines types and functions related to blog posts, including reading post content from the filesystem, parsing frontmatter, and retrieving post metadata like slugs, tags, and content.", "external_files": ["node:fs", "node:path", "gray-matter"], "external_methods": ["fs.readdirSync", "fs.readFileSync", "fs.existsSync", "path.join"], "published": ["PostFrontmatter", "Post", "getAllPostSlugs", "getPostBySlug", "getAllPosts", "getAllTags"], "classes": [], "methods": [{"name": "function safeReadDir(dir: string): string[] { safeReadDir", "description": "Reads directory contents safely, returning an empty array if an error occurs.", "scope": "", "scopeKind": ""}, {"name": "function normalizeTags(tags: unknown): string[] { normalizeTags", "description": "Converts tags to a string array, handling string and array inputs.", "scope": "", "scopeKind": ""}, {"name": "export function getAllPostSlugs(): string[] { getAllPostSlugs", "description": "Returns a list of all available post slugs based on markdown files.", "scope": "", "scopeKind": ""}, {"name": "export function getPostBySlug(slug: string): Post { getPostBySlug", "description": "Reads and parses a markdown post file by slug, returning its content and frontmatter.", "scope": "", "scopeKind": ""}, {"name": "export function getAllPosts(): Post[] { getAllPosts", "description": "Retrieves all posts, sorted by date in descending order.", "scope": "", "scopeKind": ""}, {"name": "export function getAllTags(posts: Post[]): string[] { getAllTags", "description": "Aggregates and returns sorted unique tags from a list of posts.", "scope": "", "scopeKind": ""}], "calls": ["fs.readdirSync", "fs.readFileSync", "fs.existsSync", "path.join"], "search-terms": ["PostFrontmatter", "getPostBySlug", "CONTENT_DIR", "gray-matter", "normalizeTags", "getAllPostSlugs", "getAllPosts", "getAllTags"], "state": 2, "file_id": 14, "knowledge_revision": 52, "git_revision": "", "ctags": [{"_type": "tag", "name": "CONTENT_DIR", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^const CONTENT_DIR = path.join(process.cwd(), \"content\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Post", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^export type Post = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "PostFrontmatter", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^export type PostFrontmatter = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "files", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^  const files = safeReadDir(CONTENT_DIR);$/", "language": "TypeScript", "kind": "constant", "scope": "getAllPostSlugs", "scopeKind": "function"}, {"_type": "tag", "name": "fm", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^  const fm = parsed.data ?? {};$/", "language": "TypeScript", "kind": "constant", "scope": "getPostBySlug", "scopeKind": "function"}, {"_type": "tag", "name": "frontmatter", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^  const frontmatter: PostFrontmatter = {$/", "language": "TypeScript", "kind": "constant", "scope": "getPostBySlug", "scopeKind": "function"}, {"_type": "tag", "name": "getAllPostSlugs", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^export function getAllPostSlugs(): string[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getAllPosts", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^export function getAllPosts(): Post[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getAllTags", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^export function getAllTags(posts: Post[]): string[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getPostBySlug", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^export function getPostBySlug(slug: string): Post {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "mdPath", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^  const mdPath = path.join(CONTENT_DIR, `${slug}.md`);$/", "language": "TypeScript", "kind": "constant", "scope": "getPostBySlug", "scopeKind": "function"}, {"_type": "tag", "name": "mdxPath", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^  const mdxPath = path.join(CONTENT_DIR, `${slug}.mdx`);$/", "language": "TypeScript", "kind": "constant", "scope": "getPostBySlug", "scopeKind": "function"}, {"_type": "tag", "name": "normalizeTags", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^function normalizeTags(tags: unknown): string[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^  const parsed = matter(raw);$/", "language": "TypeScript", "kind": "constant", "scope": "getPostBySlug", "scopeKind": "function"}, {"_type": "tag", "name": "posts", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^  const posts = slugs$/", "language": "TypeScript", "kind": "constant", "scope": "getAllPosts", "scopeKind": "function"}, {"_type": "tag", "name": "safeReadDir", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^function safeReadDir(dir: string): string[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^  const set = new Set<string>();$/", "language": "TypeScript", "kind": "constant", "scope": "getAllTags", "scopeKind": "function"}, {"_type": "tag", "name": "slugs", "path": "/home/kavia/workspace/code-generation/serene-beauty-hub-52237-52246/betterify_frontend/src/lib/posts.ts", "pattern": "/^  const slugs = getAllPostSlugs();$/", "language": "TypeScript", "kind": "constant", "scope": "getAllPosts", "scopeKind": "function"}], "hash": "4f2846937c611eda28bff0061fd9be89", "format-version": 4, "code-base-name": "betterify_frontend", "filename": "betterify_frontend/src/lib/posts.ts", "revision_history": [{"52": ""}]}